<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>User Input Handling · Indigo</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="At the time of writing, Indigo understands three input device types: Mouse, Keyboard, and Gamepad."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="User Input Handling · Indigo"/><meta property="og:type" content="website"/><meta property="og:url" content="https://your-docusaurus-test-site.com/"/><meta property="og:description" content="At the time of writing, Indigo understands three input device types: Mouse, Keyboard, and Gamepad."/><meta property="og:image" content="https://your-docusaurus-test-site.com/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://your-docusaurus-test-site.com/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/indigo_logo_solid.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://your-docusaurus-test-site.com/blog/atom.xml" title="Indigo Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://your-docusaurus-test-site.com/blog/feed.xml" title="Indigo Blog RSS Feed"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-169190516-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-169190516-1');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/indigo_logo_solid_text.svg" alt="Indigo"/><h2 class="headerTitleWithLogo">Indigo</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="/docs/guides" target="_self">Guides</a></li><li class="siteNavGroupActive"><a href="/docs/development-status" target="_self">Docs</a></li><li class=""><a href="/api/" target="_self">APIs</a></li><li class=""><a href="/tools" target="_self">Tools</a></li><li class=""><a href="https://github.com/PurpleKingdomGames/indigo" target="_blank">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Platform &amp; Publishing</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Indigo</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/development-status">Indigo&#x27;s Development Status</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/quickstart/setup-and-configuration">Setup &amp; Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/quickstart/hello-indigo">Hello, Indigo!</a></li><li class="navListItem"><a class="navItem" href="/docs/quickstart/examples">Examples</a></li><li class="navListItem"><a class="navItem" href="/docs/quickstart/project-templates">Mill &amp; SBT Game Templates</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Organising your game</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/organisation/boot-and-start-up">Boot &amp; Start Up</a></li><li class="navListItem"><a class="navItem" href="/docs/organisation/game-entry-points">Game Entry Points</a></li><li class="navListItem"><a class="navItem" href="/docs/organisation/scene-management">Scenes &amp; Scene Management</a></li><li class="navListItem"><a class="navItem" href="/docs/organisation/subsystems">SubSystems</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">The game loop</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/gameloop/events">Events</a></li><li class="navListItem"><a class="navItem" href="/docs/gameloop/frame-context">Frame context</a></li><li class="navListItem"><a class="navItem" href="/docs/gameloop/outcome">Outcome Type</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Presentation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/presentation/animation">Animation</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/audio">Audio</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/cameras">Cameras</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/depth">Depth</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/layers">Layers</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/lighting">Lighting</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/materials">Materials</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/primitives">Primitives &amp; Building Blocks</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/scene-update-fragment">SceneUpdateFragment</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/shapes">Shapes</a></li><li class="navListItem"><a class="navItem" href="/docs/presentation/text-and-fonts">Text &amp; Fonts</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">UI Components</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/uicomponents/ui-components">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/uicomponents/button">Buttons</a></li><li class="navListItem"><a class="navItem" href="/docs/uicomponents/hit-area">Hit Area</a></li><li class="navListItem"><a class="navItem" href="/docs/uicomponents/input-field">Input Field</a></li><li class="navListItem"><a class="navItem" href="/docs/uicomponents/radio-button">Radio Button</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Shaders</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/shaders/shader-overview">Shaders Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/shaders/constants">Shader Constants, Variables, and Outputs</a></li><li class="navListItem"><a class="navItem" href="/docs/shaders/entity-shaders">Entity Shaders</a></li><li class="navListItem"><a class="navItem" href="/docs/shaders/blending">Blending</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Working with Time</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/time/signals">Signals &amp; Signal Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/time/time-varying-values">Time Varying Values</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Platform &amp; Publishing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/platform/assets">Assets &amp; Asset Loading</a></li><li class="navListItem"><a class="navItem" href="/docs/platform/cross-platform-publishing">Cross Platform Publishing</a></li><li class="navListItem"><a class="navItem" href="/docs/platform/importers">File Format Importers</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/platform/input-handling">User Input Handling</a></li><li class="navListItem"><a class="navItem" href="/docs/platform/loading-and-saving-data">Loading &amp; Saving Data</a></li><li class="navListItem"><a class="navItem" href="/docs/platform/logging">Logging</a></li><li class="navListItem"><a class="navItem" href="/docs/platform/networking">Networking</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Other information</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/information/alternatives">Alternatives to Indigo</a></li><li class="navListItem"><a class="navItem" href="/docs/information/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/docs/information/key-concepts">Key Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/information/model-viewmodel-view">Model, ViewModel, &amp; View</a></li><li class="navListItem"><a class="navItem" href="/docs/information/motivation-and-constraints">Motivation &amp; Constraints</a></li><li class="navListItem"><a class="navItem" href="/docs/information/performance">Performance</a></li><li class="navListItem"><a class="navItem" href="/docs/information/prior-art">Prior Art</a></li><li class="navListItem"><a class="navItem" href="/docs/information/rendering-technology">Rendering Technology</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">User Input Handling</h1></header><article><div><span><p>At the time of writing, Indigo understands three input device types: Mouse, Keyboard, and Gamepad.</p>
<blockquote>
<p>A note on gamepad support: So far only PS4 gamepads have been tested. Sony made the excellent decision to make them plug and play! XBox and other controllers may work but no time was invested in testing them once it became apparent then they didn't work out of the box on non-windows machines. Pull requests, issue reporting, and funding are all welcome!</p>
</blockquote>
<p>Input handling comes in two forms:</p>
<ol>
<li>Discrete events</li>
<li>Continuous signals (sampled)</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="inputevents-discrete-events"></a><a href="#inputevents-discrete-events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>InputEvent</code>s (Discrete events)</h2>
<p>A discrete event is something that happens at a point in time, and you are notified about it.</p>
<p>There are input actions that are best represented as events, a mouse click for example, which happens quickly as a result of a mouse button passing quickly through the Up, Down, and Up states. The browser noticing the transition and letting you know that it's happened is very useful.</p>
<p>Input events only (currently) cover Mouse and Keyboard events, <em>not gamepads</em>, and can be detected during the model or view model update functions as you would any other event.</p>
<p>For more information, please see the <a href="/docs/gameloop/events">events</a> page.</p>
<h2><a class="anchor" aria-hidden="true" id="inputstate-continuous-signals"></a><a href="#inputstate-continuous-signals" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>InputState (Continuous signals)</h2>
<p>There are other types of input that don't make as much sense as events.</p>
<p>It is possible in Indigo to listen to every distinct mouse move event for example, but that is almost certainly not what you actually want to do. Most likely, what you really want is the cumulative position at the point that this frame is being processed.</p>
<p>Indigo does this by sampling the input states of the mouse, keyboard and gamepad and allowing you to access it through the <a href="/docs/gameloop/frame-context">frame context</a>.</p>
<blockquote>
<p>Note that this is how gamepads are usually modeled and at the moment Indigo is no exception. Adding discrete events for specific button presses to emulate mouse-like behavior is under consideration.</p>
</blockquote>
<p>To continue our example from above: If you wanted the current mouse position, rather than listening to all of the <code>Move</code> events and redundantly reprocessing your model many times per frame, you can simply access the position directly with:</p>
<pre><code class="hljs css language-scala">context.mouse.position <span class="hljs-comment">// returns a Point(x, y)</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="input-mapping"></a><a href="#input-mapping" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Input Mapping</h3>
<p><code>InputState</code>s ability to tell you about continuous input signals from mice, keyboards and gamepads is great, but what if you need to capture combinations of events? It's surprisingly hard work!</p>
<p>For this we have created the input mapper, which can be found inside the input state.</p>
<p>Here is an example of a &quot;dot&quot; that can be moved up, down, left, right, <em>and</em> diagonally using combinations of the W, A, S, and D keys.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> indigo._

<span class="hljs-keyword">final</span> <span class="hljs-keyword">case</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dot</span>(<span class="hljs-params">center: <span class="hljs-type">Point</span></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update</span></span>(timeDelta: <span class="hljs-type">Seconds</span>, inputState: <span class="hljs-type">InputState</span>): <span class="hljs-type">Outcome</span>[<span class="hljs-type">Dot</span>] = {
    <span class="hljs-keyword">val</span> inputForce = inputState.mapInputs(<span class="hljs-type">Dot</span>.inputMapping, <span class="hljs-type">Vector2</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))
    <span class="hljs-keyword">val</span> nextCenter = <span class="hljs-type">Point</span>(
      (center.x + math.round(inputForce.x * timeDelta.toDouble).toInt),
      (center.y + math.round(inputForce.y * timeDelta.toDouble).toInt)
    )
    <span class="hljs-type">Outcome</span>(<span class="hljs-keyword">this</span>.copy(center = nextCenter))
  }
}
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Dot</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initial</span></span>(center: <span class="hljs-type">Point</span>): <span class="hljs-type">Dot</span> =
    <span class="hljs-type">Dot</span>(center)

  <span class="hljs-keyword">val</span> inputMapping: <span class="hljs-type">InputMapping</span>[<span class="hljs-type">Vector2</span>] = {
    <span class="hljs-keyword">val</span> xSpeed = <span class="hljs-number">30.0</span>d
    <span class="hljs-keyword">val</span> ySpeed = <span class="hljs-number">-30.0</span>d
    <span class="hljs-type">InputMapping</span>(
      <span class="hljs-comment">// WASD keymap</span>
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_W</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_A</span>) -&gt; <span class="hljs-type">Vector2</span>(-xSpeed, ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_W</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_S</span>) -&gt; <span class="hljs-type">Vector2</span>(<span class="hljs-number">0.0</span>d, <span class="hljs-number">0.0</span>d),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_W</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_D</span>) -&gt; <span class="hljs-type">Vector2</span>(xSpeed, ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_A</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_S</span>) -&gt; <span class="hljs-type">Vector2</span>(-xSpeed, -ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_A</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_D</span>) -&gt; <span class="hljs-type">Vector2</span>(<span class="hljs-number">0.0</span>d, <span class="hljs-number">0.0</span>d),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_S</span>, <span class="hljs-type">Key</span>.<span class="hljs-type">KEY_D</span>) -&gt; <span class="hljs-type">Vector2</span>(xSpeed, -ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_W</span>)            -&gt; <span class="hljs-type">Vector2</span>(<span class="hljs-number">0.0</span>d, ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_A</span>)            -&gt; <span class="hljs-type">Vector2</span>(-xSpeed, <span class="hljs-number">0.0</span>d),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_S</span>)            -&gt; <span class="hljs-type">Vector2</span>(<span class="hljs-number">0.0</span>d, -ySpeed),
      <span class="hljs-type">Combo</span>.withKeyInputs(<span class="hljs-type">Key</span>.<span class="hljs-type">KEY_D</span>)            -&gt; <span class="hljs-type">Vector2</span>(xSpeed, <span class="hljs-number">0.0</span>d)
    )
  }
}

</code></pre>
<p><code>Combo</code> instances can also be combined using the <code>|+|</code> operator.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/platform/importers"><span class="arrow-prev">← </span><span>File Format Importers</span></a><a class="docs-next button" href="/docs/platform/loading-and-saving-data"><span>Loading &amp; Saving Data</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#inputevents-discrete-events"><code>InputEvent</code>s (Discrete events)</a></li><li><a href="#inputstate-continuous-signals">InputState (Continuous signals)</a><ul class="toc-headings"><li><a href="#input-mapping">Input Mapping</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/indigo_logo.svg" alt="Indigo" width="66" height="58"/></a><div><h5>Getting Started</h5><a href="/docs/en/quickstart/setup-and-configuration">Setup &amp; Configuration Guide</a><a href="/docs/en/quickstart/hello-indigo">&quot;Hello, Indigo!&quot; Tutorial</a><a href="/docs/en/quickstart/examples">Links to examples</a><a href="/docs/en/quickstart/project-templates">Project templates</a></div><div><h5>Community</h5><a href="https://discord.gg/b5CD47g">Discord</a><a href="https://github.com/PurpleKingdomGames/indigo/discussions">GitHub Discussons</a><a href="https://twitter.com/indigoengine" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>Sponsor us!</h5><a href="https://github.com/sponsors/PurpleKingdomGames">GitHub Sponsors</a><a href="https://www.patreon.com/indigoengine">Patreon</a></div></section></footer></div></body></html>